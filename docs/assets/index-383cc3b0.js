var t=Object.defineProperty,e=(e,n,s)=>(((e,n,s)=>{n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s})(e,"symbol"!=typeof n?n+"":n,s),s);!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();let n,s,a,i,r,o,l=Object.getPrototypeOf,c={isConnected:1},u={},d=l(c),h=l(l),w=(t,e,n,s)=>(t??(setTimeout(n,s),new Set)).add(e),f=(t,e,n)=>{let s=a;a=e;try{return t(n)}catch(i){return console.error(i),n}finally{a=s}},p=t=>t.filter(t=>{var e;return null==(e=t.t)?void 0:e.isConnected}),m=t=>r=w(r,t,()=>{for(let t of r)t.i=p(t.i),t.o=p(t.o);r=o},1e3),v={get val(){var t;return null==(t=null==a?void 0:a.l)||t.add(this),this.rawVal},get oldVal(){var t;return null==(t=null==a?void 0:a.l)||t.add(this),this.u},set val(t){var e;null==(e=null==a?void 0:a.h)||e.add(this),t!==this.rawVal&&(this.rawVal=t,this.i.length+this.o.length?(null==s||s.add(this),n=w(n,this,S)):this.u=t)}},g=t=>({__proto__:v,rawVal:t,u:t,i:[],o:[]}),b=(t,e)=>{let n={l:new Set,h:new Set},s={f:t},a=i;i=[];let r=f(t,n,e);r=(r??document).nodeType?r:new Text(r);for(let i of n.l)n.h.has(i)||(m(i),i.i.push(s));for(let o of i)o.t=r;return i=a,s.t=r},y=(t,e=g(),n)=>{let s={l:new Set,h:new Set},a={f:t,s:e};a.t=n??(null==i?void 0:i.push(a))??c,e.val=f(t,s,e.rawVal);for(let i of s.l)s.h.has(i)||(m(i),i.o.push(a));return e},T=(t,...e)=>{for(let n of e.flat(1/0)){let e=l(n??0),s=e===v?b(()=>n.val):e===h?b(n):n;s!=o&&t.append(s)}return t},O=(t,e,...n)=>{var s;let[a,...i]=l(n[0]??0)===d?n:[{},...n],r=t?document.createElementNS(t,e):document.createElement(e);for(let[c,d]of Object.entries(a)){let t=e=>e?Object.getOwnPropertyDescriptor(e,c)??t(l(e)):o,n=e+","+c,a=u[n]??(u[n]=(null==(s=t(l(r)))?void 0:s.set)??0),i=c.startsWith("on")?(t,e)=>{let n=c.slice(2);r.removeEventListener(n,e),r.addEventListener(n,t)}:a?a.bind(r):r.setAttribute.bind(r,c),w=l(d??0);c.startsWith("on")||w===h&&(d=y(d),w=v),w===v?b(()=>(i(d.val,d.u),r)):i(d)}return T(r,i)},j=t=>({get:(e,n)=>O.bind(o,t,n)}),_=(t,e)=>e?e!==t&&t.replaceWith(e):t.remove(),S=()=>{let t=0,e=[...n].filter(t=>t.rawVal!==t.u);do{s=new Set;for(let t of new Set(e.flatMap(t=>t.o=p(t.o))))y(t.f,t.s,t.t),t.t=o}while(++t<100&&(e=[...s]).length);let a=[...n].filter(t=>t.rawVal!==t.u);n=o;for(let n of new Set(a.flatMap(t=>t.i=p(t.i))))_(n.t,b(n.f,n.t)),n.t=o;for(let n of a)n.u=n.rawVal};const L={tags:new Proxy(t=>new Proxy(O,j(t)),j()),hydrate:(t,e)=>_(t,b(e,t)),add:T,state:g,derive:y},A={},k=function(t,e,n){if(!e||0===e.length)return t();const s=document.getElementsByTagName("link");return Promise.all(e.map(t=>{if((t=function(t){return"/budget-dashboard/"+t}(t))in A)return;A[t]=!0;const e=t.endsWith(".css"),a=e?'[rel="stylesheet"]':"";if(!!n)for(let n=s.length-1;n>=0;n--){const a=s[n];if(a.href===t&&(!e||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${t}"]${a}`))return;const i=document.createElement("link");return i.rel=e?"stylesheet":"modulepreload",e||(i.as="script",i.crossOrigin=""),i.href=t,document.head.appendChild(i),e?new Promise((e,n)=>{i.addEventListener("load",e),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${t}`)))}):void 0})).then(()=>t()).catch(t=>{const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t})},D=({value:t,Loading:e,Error:n},s)=>{const a=L.state({status:"pending"});return t.then(t=>a.val={status:"fulfilled",value:t}).catch(t=>a.val={status:"rejected",value:t}),()=>"pending"===a.val.status?(null==e?void 0:e())??"":"rejected"===a.val.status?null==n?void 0:n(a.val.value):s(a.val.value)},{div:P}=L.tags,B=()=>P({class:"loading-bg"},P({class:"loading-container"},P({class:"loader"})));const R=new class{constructor(){e(this,"_requestConfig"),e(this,"_success"),e(this,"_failure"),e(this,"defaults",{baseUrl:"/",headers:{common:{}}}),e(this,"interceptors",{request:{use:t=>{t&&(this.v=t)}},response:{use:(t,e)=>{t&&(this.T=t),e&&(this.O=e)}}}),this.v=()=>{},this.T=()=>{},this.O=()=>{}}async get(t,e){let n=await this.v({url:t,baseURL:this.defaults.baseUrl,method:"GET"});return e&&(e.method&&delete e.method,n=Object.assign(n,e)),this.sendAsync(t,void 0,n)}async delete(t,e){let n=await this.v({url:t,baseURL:this.defaults.baseUrl,method:"DELETE"});return e&&(e.method&&delete e.method,n=Object.assign(n,e)),this.sendAsync(t,void 0,n)}async head(t,e){let n=await this.v({url:t,baseURL:this.defaults.baseUrl,method:"HEAD"});return e&&(e.method&&delete e.method,n=Object.assign(n,e)),this.sendAsync(t,void 0,n)}async options(t,e){let n=await this.v({url:t,baseURL:this.defaults.baseUrl,method:"OPTIONS"});return e&&(e.method&&delete e.method,n=Object.assign(n,e)),this.sendAsync(t,void 0,n)}async post(t,e,n){let s=await this.v({url:t,baseURL:this.defaults.baseUrl,method:"POST"});return n&&(n.method&&delete n.method,s=Object.assign(s,n)),this.sendAsync(t,e,s)}async put(t,e,n){let s=await this.v({url:t,baseURL:this.defaults.baseUrl,method:"PUT"});return n&&(n.method&&delete n.method,s=Object.assign(s,n)),this.sendAsync(t,e,s)}async patch(t,e,n){let s=await this.v({url:t,baseURL:this.defaults.baseUrl,method:"PATCH"});return n&&(n.method&&delete n.method,s=Object.assign(s,n)),this.sendAsync(t,e,s)}paramsSerializer(t){const e=new Array;return Object.entries(t).forEach(t=>{const n=t[0],s=t[1];s&&e.push(`${encodeURIComponent(n)}=${s}`)}),e.length>0?`?${e.join("&")}`:""}async sendAsync(t,e,n){const s={};if(Object.entries(this.defaults.headers.common).forEach(t=>{s[t[0]]=t[1]}),n.params&&(t+=this.paramsSerializer(n.params)),t.startsWith("http")||(t=`${this.defaults.baseUrl}${t}`),e instanceof FormData){if(n.body=e,n.headers){const t=new Headers(n.headers);t.delete("content-type"),n.headers=t}}else e&&"object"==typeof e&&(n.body=JSON.stringify(e));return new Promise((e,a)=>{fetch(t,{headers:s,...n}).then(async t=>{var e,n;if(t.ok)return this.T({response:{status:t.status}}),(null==(e=t.headers.get("content-type"))?void 0:e.includes("application/octet-stream"))?await t.blob():(null==(n=t.headers.get("content-type"))?void 0:n.includes("application/json"))?await t.json():await t.text();switch(this.O(t),t.status){case 400:a("Validation error");break;case 401:a("401 (Unathorized)");break;case 500:a("Server error");break;default:console.error(t)}}).then(t=>e(t))})}};function E(t,e){return new Promise(n=>window.setTimeout(()=>n(e),t))}function x(t,e){return t.reduce((t,n)=>{const s=n[e];return t[s]||(t[s]=[]),t[s].push(n),t},{})}function M(t,e){let n=0;return t.forEach(t=>{"string"==typeof t[e]?n+=parseFloat(t[e]):n+=t[e]}),n}class ${constructor(t){e(this,"_dbname",""),this.j=t}get(){return JSON.parse(window.localStorage.getItem(this.j)??"[]")}set(t){window.localStorage.setItem(this.j,JSON.stringify(t))}exist(){return!!window.localStorage.getItem(this.j)}}const C={transactions:new $("db"),tags:new $("tag"),rules:new $("rule")};class I{constructor(t){e(this,"start"),e(this,"end"),this.start=null,this.end=null,t&&Object.assign(this,t)}}class U{constructor(t){e(this,"search"),e(this,"tag"),e(this,"date"),e(this,"amount"),e(this,"page"),e(this,"pagesize"),e(this,"pagecount"),this.search=null,this.tag=null,this.date=new I,this.amount=new I,this.page=1,this.pagesize=25,this.pagecount=1,t&&Object.assign(this,t)}}class V{constructor(t){e(this,"title"),e(this,"active"),e(this,"collapse"),e(this,"data"),this.title="",this.active=!1,this.collapse=!0,this.data="",t&&Object.assign(this,t)}}class z{constructor(t){e(this,"text"),e(this,"value"),e(this,"selected"),this.text="",this.value="",this.selected=!1,t&&Object.assign(this,t)}}class H{constructor(t){e(this,"id"),e(this,"dttm"),e(this,"transaction"),e(this,"name"),e(this,"memo"),e(this,"amount"),e(this,"tag"),this.id=0,this.dttm=null,this.transaction="CREDIT",this.name="",this.memo=null,this.amount=0,this.tag=null,t&&Object.assign(this,t)}}function q(t=new Array){C.transactions.set(t)}function F(t){var e;const n=(null==(e=J().sort((t,e)=>t.id>e.id?1:-1).pop())?void 0:e.id)??0;t.id=n+1;const s=J();s.push(t),q(s)}function N(t){let e=J();e.forEach(e=>{e.id===t.id&&Object.assign(e,t)}),q(e)}function J(){C.transactions.exist()||q([]);let t=C.transactions.get();return t.length>0&&(t=t.sort((t,e)=>new Date(t.dttm??"")<new Date(e.dttm??"")?1:-1)),t}function G(){return q([]),200}const W=["Banking:Cash","Banking:Fees","Bills:Cable","Bills:Cell Phone","Bills:Credit Card","Bills:Electric","Bills:Garbage","Bills:Gas","Bills:Insurance","Bills:Loan","Bills:Medical","Bills:Water","Income:Paycheck","Service","Service:Bottle Water","Service:Software","Service:Streaming","Shopping","Shopping:Auto","Shopping:Clothing","Shopping:Dining","Shopping:Fuel","Shopping:Grocery","Shopping:Health/Body","Shopping:Pet Care","Shopping:Unknown","Transfer","Transfer:Saving"];function K(t=new Array){C.tags.set(t)}function Q(t=new Array){C.rules.set(t)}function X(){return C.rules.exist()||Q([]),C.rules.get()}function Y(){return Q([]),200}const Z={transaction:{create:F,update:N,saveOrUpdate:function(t){return t.forEach(t=>{0===t.id?F(t):t.id>0&&N(t)}),200},updateMemoTag:function(t,e,n){let s=new H({id:t,memo:e,tag:n});return t>0&&J().forEach(a=>{a.id===t&&(a.memo=e,a.tag=n,N(a),s=a)}),s},getAll:J,getBy:function(t){return J().find(e=>e.id===t)??new H},getFiltered:function(t=new U){const e=J();let n=e;if(t.search){let s=t.search.toUpperCase();n=e.filter(t=>{var e;return null==(e=t.name)?void 0:e.toUpperCase().includes(s)})}if(t.tag){let e=t.tag;n=n.filter(t=>t.tag==e)}let s=new Date(t.date.start??""),a=new Date(t.date.end??"");if(t.date.start&&t.date.end&&(n=n.filter(t=>new Date(t.dttm)>=s&&new Date(t.dttm)<=a)),!t.date.start&&t.date.end&&(n=n.filter(t=>new Date(t.dttm)<=a)),t.date.start&&!t.date.end&&(n=n.filter(t=>new Date(t.dttm)>=s)),t.amount.start&&t.amount.end){let e=-1*parseFloat(t.amount.start),s=-1*parseFloat(t.amount.end);n=n.filter(t=>t.amount<=e&&t.amount>=s)}if(!t.amount.start&&t.amount.end){let e=-1*parseFloat(t.amount.end);n=n.filter(t=>t.amount>=e)}if(t.amount.start&&!t.amount.end){let e=-1*parseFloat(t.amount.start);n=n.filter(t=>t.amount<=e)}t.pagecount=Math.ceil(n.length/t.pagesize);let i=new Array,r=(t.page-1)*t.pagesize,o=n.length>t.pagesize?r+t.pagesize:n.length;for(let l=r;l<o;l++)n[l]&&i.push(n[l]);return n=i,{filter:t,data:n}},deleteBy:function(t){const e=J();for(let n=0;n<e.length;n+=1)if(e[n].id===t){e.splice(n,1);break}q(e)},deleteAll:G,importTransactions:function(t){return G(),q(t),200}},tag:{getAll:function(){return C.tags.exist()||K(W),C.tags.get()},importTags:function(t){return K([]),K(t),200}},rule:{getAll:X,saveOrUpdate:function(t,e){t=t.toUpperCase();const n=X();let s=n.find(e=>Object.keys(e).includes(t));if(s){let a=s[t],i=a.find(t=>t.amount==e.amount||t.tag==e.tag);i?function(t,e,n){let s=X(),a=s.find(e=>Object.keys(e).includes(t));if(a){a[t].forEach(t=>{t.amount==n.amount&&t.tag==n.tag&&Object.assign(t,e)}),s=Object.assign(s,a),Q(s)}}(t,e,i):(a.push(e),a=a.sort((t,e)=>t.amount<e.amount?1:-1),Q(n))}else!function(t,e){let n={};n[t.toUpperCase()]=[e];const s=X();s.push(n),Q(s)}(t,e)},deleteBy:function(t,e){let n=X();for(let s=0;s<n.length;s++){let a=n[s],i=Object.keys(a)[0],r=Object.values(a)[0];if(i===t){r.forEach((t,a)=>{t.amount==e.amount&&t.tag==e.tag&&r.splice(a,1),0===r.length&&n.splice(s,1)}),Q(n);break}}return 200},deleteAll:Y,importRules:function(t){return Y(),Q(t),200}}},tt=800,et=R;et.defaults.baseUrl="https://localhost:7182",et.interceptors.request.use(t=>(t.headers={Accept:"application/json, */*","Content-Type":"application/json"},t.mode="cors",t.credentials="include",t));const nt={getById:t=>E(tt,Z.transaction.getBy(t)),post:(t,e,n)=>E(tt,Z.transaction.updateMemoTag(t,e,n)),delete:t=>E(tt,Z.transaction.deleteBy(t))},st={get:t=>E(tt,Z.transaction.getFiltered(t)),post:t=>E(tt,Z.transaction.saveOrUpdate(t)),getAll:()=>E(tt,Z.transaction.getAll()),deleteAll:()=>E(tt,Z.transaction.deleteAll()),importTransactions:t=>E(tt,Z.transaction.importTransactions(t))},at={get:()=>E(tt,Z.tag.getAll()),importTags:t=>E(tt,Z.tag.importTags(t))},it={get:()=>E(tt,Z.rule.getAll()),post:(t,e)=>E(tt,Z.rule.saveOrUpdate(t,e)),deleteBy:(t,e)=>E(tt,Z.rule.deleteBy(t,e)),deleteAll:()=>E(tt,Z.rule.deleteAll()),importRules:t=>E(tt,Z.rule.importRules(t))};function rt(t){let e=new Date(t);return{long:`${e.getFullYear()}-${["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()+1]}`,short:`${e.getFullYear()}-${e.getMonth()+1}`}}function ot(t,e){const n=new Date(t),s=new Date(e);return 12*(s.getFullYear()-n.getFullYear())+(s.getMonth()-n.getMonth())}function lt(t,e){let n=new Array,s=function(t){let e=new Date(t);return{m:e.getMonth()+1,d:e.getDate(),y:e.getFullYear()}}(t);for(let a=0;a<=ot(t,e);a++){let t=s.m+a,e=s.y;t>48?(t-=48,e+=4):t>36?(t-=36,e+=3):t>24?(t-=24,e+=2):t>12&&(t-=12,e+=1);const{long:i,short:r}=rt(`${t}/1/${e}`);n.push({text:i,value:r,selected:!1})}return n}const ct={site:{preload:async function(){return Promise.all([ct.tag.getTags(),ct.tag.getRules()])}},transaction:(()=>{let t=L.state(new H);return{transaction:t,getTransactions:async function(t){return await st.get(t)},getTransactionById:async function(e){return new Promise(async n=>{const s=await nt.getById(e);t.val=new H(s),n(!0)})},saveTransaction:async function(){const{id:e,memo:n,tag:s}=t.val;return await nt.post(e,n,s)},saveTransactions:async function(t){return await st.post(t)},removeTransaction:async function(e){return new Promise(async n=>{await nt.delete(e),t.val=new H,n(!0)})},resetTansactions:async function(){return await st.deleteAll()},importTransactions:function(t){st.importTransactions(t)}}})(),user:(()=>{let t=L.state(!1);return{authenticated:t,login:async function(t,e){let n=window.btoa(`${t}:${e}`);return new Promise(t=>{if("Og=="===n){let t=new Date,e=t.getMinutes()+15;t.setMinutes(e),document.cookie=`expires=${new Date(t).toUTCString()};`}t(200)})},signout:async function(){return new Promise(t=>{document.cookie="expires=0;",t(200)})},getUser:async function(){return new Promise(e=>{let n=document.cookie.split("=");t.val=new Date<=new Date(n[1]),e(200)})}}})(),dashboard:(()=>{let t=L.state(new Array),e=L.state(new Array);return{slicedTransactions:e,transactions:t,getSlicers:async function(){return new Promise(e=>{let n=new Array;n.push(new V({title:"Name",data:""}));let s=new Array;if(t.val.length>0){let e=t.val[0].dttm??"";s=lt(t.val[t.rawVal.length-1].dttm??"",e)}n.push(new V({title:"Date",data:s})),n.push(new V({title:"Tag",data:W.map(t=>new z({text:t,value:t,selected:!1}))})),e(n)})},getAllTransactions:async function(){return new Promise(async e=>{t.val=await st.getAll(),e(200)})},setSlicedTransactions:function(n){let s=t.val;n.filter(t=>t.active).forEach(t=>{if("string"==typeof t.data&&"Name"===t.title){let e=t.data.toUpperCase();s=s.filter(t=>t.name.toUpperCase().includes(e))}else if(Array.isArray(t.data)){if("Date"===t.title){let e=new Array,n=new Array;t.data.filter(t=>t.selected).forEach(t=>{let s=t.value.split("-");n.push(parseInt(s[0],10)),e.push(parseInt(s[1],10))}),n=[...new Set(n)],s=s.filter(t=>{let s=new Date(t.dttm??"");return e.includes(s.getMonth()+1)&&n.includes(s.getFullYear())})}if("Tag"===t.title){let e=new Array;t.data.filter(t=>t.selected).forEach(t=>{e.push(t.value)}),s=s.filter(t=>e.includes(t.tag??"do-not-add"))}}}),e.val=s}}})(),tag:(()=>{let t=L.state(!0),e=L.state(new Array),n=L.state([]),s=L.state({"":{amount:0,tag:""}});async function a(){return e.val=new Array,new Promise(async t=>{e.val=await at.get(),t(200)})}function i(){s.val={"":{amount:0,tag:""}}}async function r(){return n.val=[],new Promise(async t=>{n.val=await it.get(),t(200)})}return{loading:t,tags:e,rules:n,rule:s,getTags:a,importTags:function(e){t.val=!0,window.setTimeout(()=>{at.importTags(e).then(e=>{200==e&&a().then(()=>t.val=!1)})},1e3)},getRules:r,setRule:function(t,e){s.val={},s.val[t]=e},removeRule:function(e,n){t.val=!0,window.setTimeout(()=>{it.deleteBy(e,n).then(e=>{200==e&&(i(),r().then(()=>t.val=!1))})},1e3)},importRules:function(e){t.val=!0,window.setTimeout(()=>{it.importRules(e).then(e=>{200==e&&(i(),r().then(()=>t.val=!1))})},1e3)},resetRule:i,saveRule:async function(e,n){return t.val=!0,new Promise(s=>{window.setTimeout(()=>{it.post(e,n).then(()=>{i(),r(),t.val=!1,s(200)})},1e3)})},generateTag:function(t){let e="";for(let s=0;s<n.val.length;s++){const a=n.val[s];let i=Object.keys(a)[0];if(t.name.toUpperCase().includes(i.toUpperCase())&&(Object.values(a)[0].sort((t,e)=>t.amount<e.amount?1:-1).forEach(n=>{""===e&&Math.abs(t.amount)>n.amount&&(e=n.tag)}),""!==e))break}return e}}})()},{div:ut,img:dt}=L.tags,{svg:ht,path:wt,g:ft}=L.tags("http://www.w3.org/2000/svg"),pt=t=>ht({class:(null==t?void 0:t.class)??"",xmlns:"http://www.w3.org/2000/svg",width:(null==t?void 0:t.width)??"50",height:(null==t?void 0:t.height)??"43",viewBox:"0 0 50 43"},wt({d:"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z"})),mt=t=>ht({class:(null==t?void 0:t.class)??"",xmlns:"http://www.w3.org/2000/svg",width:(null==t?void 0:t.width)??"24",height:(null==t?void 0:t.height)??"24",viewBox:"0 0 24 24"},ft({fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeEidth:"2"},wt({d:"M7 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-1"}),wt({d:"M20.385 6.585a2.1 2.1 0 0 0-2.97-2.97L9 12v3h3zM16 5l3 3"}))),vt=t=>ht({class:(null==t?void 0:t.class)??"",xmlns:"http://www.w3.org/2000/svg",width:(null==t?void 0:t.width)??"24",height:(null==t?void 0:t.height)??"24",viewBox:"0 0 24 24"},wt({fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"})),gt=t=>ht({class:(null==t?void 0:t.class)??"",xmlns:"http://www.w3.org/2000/svg",width:(null==t?void 0:t.width)??"24",height:(null==t?void 0:t.height)??"24",viewBox:"0 0 24 24"},wt({fill:"currentColor",fillRule:"evenodd",d:"M13.083 19.063c-.444.444-.843.843-1.21 1.187H21a.75.75 0 0 1 0 1.5H9q-.028 0-.055-.002c-.703-.027-1.3-.331-1.886-.778c-.588-.448-1.244-1.104-2.046-1.907l-.076-.076c-.803-.802-1.459-1.458-1.907-2.046c-.468-.614-.78-1.24-.78-1.989c0-.748.312-1.375.78-1.989c.448-.587 1.104-1.243 1.907-2.046l5.98-5.98c.803-.803 1.459-1.459 2.046-1.907c.614-.468 1.24-.78 1.99-.78c.748 0 1.374.312 1.988.78c.588.448 1.244 1.104 2.046 1.907l.076.076c.803.802 1.459 1.458 1.907 2.046c.468.614.78 1.24.78 1.989c0 .748-.312 1.375-.78 1.989c-.448.587-1.104 1.243-1.907 2.046zM11.94 6.035c.85-.85 1.435-1.433 1.933-1.812c.48-.367.79-.473 1.08-.473c.288 0 .598.106 1.079.473c.497.38 1.083.962 1.933 1.812s1.433 1.436 1.813 1.933c.366.481.472.79.472 1.08c0 .289-.106.599-.473 1.079c-.38.498-.962 1.083-1.812 1.933l-4.194 4.193l-6.024-6.024zM9.048 20.25c.289 0 .599-.106 1.079-.473c.498-.38 1.083-.962 1.933-1.812l.65-.651l-6.024-6.025l-.65.65c-.85.85-1.434 1.436-1.813 1.934c-.367.48-.473.79-.473 1.08c0 .288.106.598.473 1.079c.38.497.962 1.083 1.812 1.933s1.436 1.433 1.933 1.813c.481.366.79.472 1.08.472",clipRule:"evenodd"})),{button:bt,div:yt,form:Tt,input:Ot,label:jt,section:_t,span:St}=L.tags,Lt=t=>{let e=L.state(""),n=L.state("");return _t({class:"hero"},yt({class:"hero-body"},yt({class:"container"},yt({class:"columns is-centered"},yt({class:"column is-5-tablet is-4-desktop is-3-widescreen"},Tt({action:"",class:"box"},yt({class:"field"},jt({for:"",class:"label"},"Email"),yt({class:"control has-icons-left"},Ot({type:"email",placeholder:"e.g. bobsmith@gmail.com",class:"input",required:"",oninput:t=>e.val=t.target.value}),St({class:"icon is-small is-left"},ht({class:(null==s?void 0:s.class)??"",xmlns:"http://www.w3.org/2000/svg",width:(null==s?void 0:s.width)??"24",height:(null==s?void 0:s.height)??"24",viewBox:"0 0 24 24"},wt({fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"m2.357 7.714l6.98 4.654c.963.641 1.444.962 1.964 1.087c.46.11.939.11 1.398 0c.52-.125 1.001-.446 1.964-1.087l6.98-4.654M7.157 19.5h9.686c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.31-1.311c.328-.642.328-1.482.328-3.162V9.3c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311c-.642-.327-1.482-.327-3.162-.327H7.157c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.31 1.311c-.328.642-.328 1.482-.328 3.162v5.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311c.642.327 1.482.327 3.162.327"}))))),yt({class:"field"},jt({for:"",class:"label"},"Password"),yt({class:"control has-icons-left"},Ot({type:"password",placeholder:"*******",class:"input",required:"",oninput:t=>n.val=t.target.value}),St({class:"icon is-small is-left"},(t=>ht({class:(null==t?void 0:t.class)??"",xmlns:"http://www.w3.org/2000/svg",width:(null==t?void 0:t.width)??"24",height:(null==t?void 0:t.height)??"24",viewBox:"0 0 24 24"},wt({fill:"currentColor",d:"M6 22q-.825 0-1.412-.587T4 20V10q0-.825.588-1.412T6 8h1V6q0-2.075 1.463-3.537T12 1t3.538 1.463T17 6v2h1q.825 0 1.413.588T20 10v10q0 .825-.587 1.413T18 22zm0-2h12V10H6zm6-3q.825 0 1.413-.587T14 15t-.587-1.412T12 13t-1.412.588T10 15t.588 1.413T12 17M9 8h6V6q0-1.25-.875-2.125T12 3t-2.125.875T9 6zM6 20V10z"})))()))),yt({class:"field"},bt({type:"button",class:"button is-success",onclick:()=>{ct.user.login(e.val,n.val).then(e=>{200==e&&(window.location.href=t?`./#${t}`:"./")})}},"Login"))))))));var s},{div:At,h1:kt,a:Dt}=L.tags,Pt=[{path:"*",component:At({class:"container mt-2"},At({class:"box mt-2"},kt({class:"is-size-3"},"Oops! We broke a link"),"Take me ",Dt({href:"./"},"home,")," country road.")),meta:{}},{path:"/",component:ut(dt({src:"./splash.jpg"})),meta:{}},{path:"/login",component:Lt(),meta:{}},{path:"/dashboard",component:k(()=>import("./dashboard-1e719592.js"),["assets/dashboard-1e719592.js","assets/event-emitter-eaaf34fa.js"]),meta:{auth:!0}},{path:"/transactions",component:k(()=>import("./transactions-98368202.js"),["assets/transactions-98368202.js","assets/event-emitter-eaaf34fa.js","assets/dialog-28a53218.js"]),meta:{auth:!0}},{path:"/rulebuilder",component:k(()=>import("./rule-builder-f109ab92.js"),["assets/rule-builder-f109ab92.js","assets/toast-9fc7c1df.js","assets/dialog-28a53218.js"]),meta:{auth:!0}},{path:"/settings",component:k(()=>import("./settings-2c59cf40.js"),["assets/settings-2c59cf40.js","assets/dialog-28a53218.js","assets/toast-9fc7c1df.js"]),meta:{auth:!0}},{path:"/about",component:k(()=>import("./about-d2ebfd29.js"),[]),meta:{}}];window.addEventListener("popstate",()=>{window.location.reload()});const{header:Bt,nav:Rt,div:Et,a:xt,span:Mt,hr:$t,strong:Ct}=L.tags,{footer:It,div:Ut,p:Vt,a:zt}=L.tags,{aside:Ht}=L.tags,{div:qt,main:Ft}=L.tags;let Nt=document.getElementById("app")??document.body;L.add(Nt,(ct.user.getUser(),D({value:ct.site.preload(),Loading:()=>B(),Error:()=>"Error"},()=>qt((()=>{let t=L.state(!1);return Bt({class:""},Rt({class:"navbar",role:"navigation",ariaLabel:"main navigation"},Et({class:"navbar-brand"},xt({class:"navbar-item is-selected",href:"./"},"Budget Dashboard"),xt({role:"button",class:()=>t.val?"navbar-burger is-active":"navbar-burger",ariaLabel:"menu",onclick:()=>t.val=!t.val},Mt({ariaHidden:!0}),Mt({ariaHidden:!0}),Mt({ariaHidden:!0}),Mt({ariaHidden:!0}))),Et({class:()=>t.val?"navbar-menu is-active":"navbar-menu"},Et({class:"navbar-start"},()=>ct.user.authenticated.val?xt({class:"navbar-item",href:"./#/dashboard"},"Dashboard"):"",()=>ct.user.authenticated.val?xt({class:"navbar-item",href:"./#/transactions"},"Transactions"):"",Et({class:"navbar-item has-dropdown is-hoverable"},xt({class:"navbar-link"},"More"),Et({class:"navbar-dropdown"},()=>ct.user.authenticated.val?xt({class:"navbar-item",href:"./#/rulebuilder"},"Rule Builder"):"",()=>ct.user.authenticated.val?xt({class:"navbar-item",href:"./#/settings"},"Settings"):"",xt({class:"navbar-item",href:"./#/about"},"About"),$t({class:"navbar-divider"}),xt({class:"navbar-item",href:"./#/issue"},"Report an issue"))))),Et({class:"navbar-end"},Et({class:"navbar-item"},()=>"#/login"!==window.location.hash?Et({class:"buttons"},()=>ct.user.authenticated.val?xt({class:"button is-outline-light",href:"#",onclick:t=>{t.preventDefault(),ct.user.signout().then(()=>{window.location.href="./"})}},Ct("Sign Out")):xt({class:"button is-light",href:"./#/login"},Ct("Log in"))):""))))})(),Ft((()=>{var t;const{hash:e}=window.location,n=e.length>1?Pt.find(({path:t})=>t.match(`${e.replace("#","")}`)):Pt.find(({path:t})=>t.match("/"));return n?n.meta.auth&&!ct.user.authenticated.val?Lt(n.path):n.component instanceof Promise?D({value:new Promise(t=>{n.component.then(e=>{if(0===Object.entries(e).length)t(e);else{let n=Object.values(e)[0]();t(n)}})}),Loading:()=>B(),Error:()=>"ERROR"},t=>t):n.component:null==(t=Pt.find(({path:t})=>"*"===t))?void 0:t.component})(),qt({style:"height:180px;"})),Ht({class:"sidebar-left"}),It({class:"footer"},Ut({class:"content has-text-centered"},Vt("Built with love using ",zt({href:"https://bulma.io",target:"_blank"},"Bulma")," ,",zt({href:"https://vanjs.org",target:"_blank"},"VanJS")," and ",zt({href:"https://typescriptlang.org",target:"_blank"},"TypeScript"))))))));export{ct as $,gt as I,U as S,H as T,pt as a,mt as b,vt as c,x as g,M as s,L as v};
